<div class="panel panel-default">
    <div class="panel-heading">
        <h3>Shopping Cart</h3>
    </div>
    <div class="panel-body">
        <div class="row">
            <div class="col-md-12">
                <table class="table table-striped table-hover table-condensed">
                    <thead>
                    <tr>
                        <th>Item</th>
                        <th>Qty</th>
                        <th>Price</th>
                        <th>Total</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in cartCtrl.cart.cartItems">
                        <td style="width: 30%">{{item.Name}}</td>
                        <td style="width: 15%">
                            <form>
                                <input class="form-control" ng-model="item.Quantity"
                                       ng-change="cartCtrl.calculate(item.Id, item.Quantity)" type="number" min="1"/>
                            </form>
                        </td>
                        <td style="width: 20%">{{item.Price | currency}}</td>
                        <td style="width: 20%">{{item.Price + item.ShippingPrice | currency}}</td>
                        <td style="width: 10%">
                            <button class="btn btn-danger btn-sm" ng-click="cartCtrl.removeItem(item.Id)" data-toggle="tooltip" data-placement="top" title="Remove from cart">
                                <span class="glyphicon glyphicon-trash"></span>
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <hr/>
                <dl class="dl-horizontal pull-right">
                    <dt>Sub-total:</dt>
                    <dd>{{cartCtrl.cart.subtotal | currency}}</dd>
                    <dt>Shipping Cost:</dt>
                    <dd>{{cartCtrl.cart.shippingCost | currency}}</dd>
                    <dt>Total:</dt>
                    <dd>{{cartCtrl.cart.subtotal + cartCtrl.cart.shippingCost | currency}}</dd>
                </dl>
            </div>
        </div>
    </div>
    <div class="panel-footer">
        <div class="row">
            <div class="col-md-12">
                <a ui-sref="customer-info" class="btn btn-warning pull-right" role="button"
                   ng-hide="cartCtrl.cart.cartItems.length < 1" ng-click="cartCtrl.addCart(cartCtrl.cart)">
                    <span class="glyphicon glyphicon-ok"></span> Proceed to checkout
                </a>
            </div>
        </div>
    </div>
</div>
